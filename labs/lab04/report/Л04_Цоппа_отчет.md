**ОТЧЕТ ПО ЛАБОРОТОРНОЙ РАБОТЕ № 4**

**Дисциплина: архитектура компьютера** 

Цоппа Ева Эдуардовна 

**Содержание** 

**1 Цель работы**………………………………………………………………………………………………………..…… 4 **2 Задание**……………………………………………………………………………………………………………………..5 **3 Теоретическое введение**………………………………………………………………………………………… 6 **4 Выполнение лабораторной работы** …………………………………………………………………..…..8 

1. Создание программы Hello World!………….……………………….……………………………... 8 
1. Работа с транслятором NASM………………………………………………………………………….. 9 
1. Работа с расширенным синтаксисом командной строки NASM……..……….……..9 
1. Работа с компоновщиком LD……………….…………………………...……………………….…...10 
1. Запуск исполняемого файла………………..…………………………...……………………….…...10 
1. Выполнение заданий для самостоятельной работы………………….…………….…...10 

**5 Выводы**………………………………………………………………………….………………………………………. 13 **6 Список литературы** …………………………………………………………………………………………….….14 

**Список иллюстраций**  

1. Перемещение между директориями……………………………………………………………….……8 
1. Создание пустого файла………………………………………………………………………………….....….8 
1. Открытие файла в текстовом редакторе……………….…………………………………………...…8 
1. Заполнение файла …………………………………….………………………………………..……………......9 
1. Компиляция текста программы……….……………………………...…….………………………….....9 
1. Компиляция текста программы……………………………………….………………….………………...9 
1. Передача объектного файла на обработку компоновщику….…………...……………...10 
1. Передача объектного файла на обработку компоновщику ……..………………………10 
1. Запуск исполняемого файла…………………………………………………………………………….....10 
1. Создание копии файла ………………..…………………………….....................................…..10 
1. Изменение программы……………………………………………...………………..…………………….11 
1. Компиляция текста программы...……………………………………………………………………...11 
1. Передача объектного файла на обработку компоновщику……………………….....…11 
1. Запуск исполняемого файла………………….……………….………………………………….………11 
1. Удаление лишних файлов в текущем каталоге.………………………………………………..12 
1. Добавление файлов на GitHub…….…….………………………………………………………………12 
1. Отправка файлов…..………………………………………………………………………………………..….12 

**1 Цель работы**  

Цель данной лабораторной работы – освоить процедуры компиляции и сборки программ, написанных на ассемблере NASM. 

**2 Задание** 

1. Создание программы Hello world! 
1. Работа с транслятором NASM. 
1. Работа с расширенным синтаксисом командной строки NASM. 
1. Работа с компоновщиком LD. 
1. Запуск исполняемого файла. 
1. Выполнение заданий для самостоятельной работы. 

**3 Теоретическое введение** 

Основными функциональными элементами любой ЭВМ являются центральный процессор,  память  и  периферийные  устройства.  Взаимодействие  этих  устройств осуществляется через общую шину, к которой они подключены. Физически шина представляет  собой  большое  количество  проводников,  соединяющих  устройства друг  с  другом.  В  современных  компьютерах  проводники  выполнены  в  виде электропроводящих дорожек на материнской плате. Основной задачей процессора является  обработка  информации,  а  также  организация  координации  всех  узлов компьютера. В состав  центрального процессора входят следующие устройства:  - арифметико-логическое  устройство  (АЛУ)  —  выполняет  логические  и арифметические действия, необходимые для обработки информации, хранящейся в памяти; - устройство управления (УУ) — обеспечивает управление и контроль всех устройств компьютера; - регистры — сверхбыстрая оперативная память небольшого объёма, входящая в состав процессора, для временного хранения промежуточных результатов  выполнения  инструкций;  регистры  процессора  делятся  на  два  типа: регистры  общего  назначения  и  специальные  регистры.  Для  того,  чтобы  писать программы  на  ассемблере,  необходимо  знать,  какие  регистры  процессора существуют  и  как  их  можно  использовать.  Большинство  команд  в  программах написанных  на  ассемблере  используют  регистры  в  каче-  стве  операндов. Практически все команды представляют собой преобразование данных хранящихся в регистрах процессора, это например пересылка данных между регистрами или между регистрами и памятью, преобразование (арифметические или логические операции) данных хранящихся в регистрах. Доступ к регистрам осуществляется не по  адресам,  как  к  основной  памяти,  а  по  именам.  Каждый  регистр  процессора архитектуры  x86  имеет  свое  название,  состоящее  из  2  или  3  букв  латинского алфавита.  В  качестве  примера  приведем  названия  основных  регистров  общего назначения  (именно  эти  регистры  чаще  всего  используются  при  написании программ): - RAX, RCX, RDX, RBX, RSI, RDI — 64-битные - EAX, ECX, EDX, EBX, ESI, EDI — 32-битные - AX, CX, DX, BX, SI, DI — 16-битные - AH, AL, CH, CL, DH, DL, BH, BL — 8- битные 

Другим важным узлом ЭВМ является оперативное запоминающее устройство (ОЗУ). ОЗУ — это быстродействующее энергозависимое запоминающее устройство, которое напрямую взаимодействует с узлами процессора,  предназначенное для хранения программ и данных, с которыми процессор непосредственно работает в текущий  момент.  ОЗУ  состоит  из  одинаковых  пронумерованных  ячеек  памяти. Номер  ячейки  памяти  —  это  адрес  хранящихся  в  ней  данных.  Периферийные устройства в составе ЭВМ: - устройства внешней памяти, которые предназначены для  долговременного  хранения  больших  объёмов  данных.  -  устройства  ввода- вывода, которые обеспечивают взаимодействие ЦП с внешней средой. 

В  основе  вычислительного  процесса  ЭВМ  лежит  принцип  программного управления.  Это  означает,  что  компьютер  решает  поставленную  задачу  как последовательность действий, записанных в виде программы. 

Коды команд представляют собой многоразрядные двоичные комбинации из 0 и 1. В коде машинной команды можно выделить две части: операционную и адресную. В операционной части хранится код команды, которую необходимо выполнить. В адресной  части  хранятся  данные  или  адреса  данных,  которые  участвуют  в выполнении  данной  операции.  При  выполнении  каждой  команды  процессор выполняет  определённую  последовательность  стандартных  действий,  которая называется  командным  циклом  процессора.  Он  заключается  в  следующем:  1. формирование адреса в памяти очередной команды; 2. считывание кода команды из  памяти  и  её  дешифрация; 3.  выполнение  команды;  4.  переход  к следующей команде. 

Язык  ассемблера  (assembly  language,  сокращённо  asm)  —  машинно- ориентированный язык низкого уровня. NASM — это открытый проект ассемблера, версии  которого  доступны  под  различные  операционные  системы  и  который позволяет получать объектные файлы для этих систем. В NASM используется Intel- синтаксис и поддерживаются инструкции x86-64. 

**4 Выполнение лабораторной работы** 

1. **Создание программы Hello world!**

С помощью утилиты cd перемещаюсь в каталог, в котором буду работать (рис. 

4\.1). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.001.png)

`                                 `Рис. 4.1 Перемещение между директориями 

Создаю в текущем каталоге пустой текстовый файл hello.asm с помощью утилиты touch (рис. 4.2). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.002.png)

`                                         `Рис. 4.2 Создание пустого файла 

Открываю созданный файл в текстовом редакторе mousepad (рис. 4.3). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.003.png)

Рис. 4.3 Открытие файла в текстовом редакторе 

Заполняю файл, вставляя в него программу для вывода “Hello world!” (рис. 

4\.4). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.004.png)

Рис. 4.4 Заполнение файла 

2. **Работа с транслятором NASM** 

Превращаю текст программы для вывода “Hello  world!” в объектный код с помощью  транслятора  NASM,  используя  команду  nasm  -f  elf  hello.asm,  ключ  -f указывает транслятору nasm, что требуется создать бинарный файл в формате ELF (рис. 4.5). Далее проверяю правильность выполнения команды с помощью утилиты ls: действительно, создан файл “hello.o”. 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.005.png)

Рис. 4.5 Компиляция текста программы 

3. **Работа с расширенным синтаксисом командной строки NASM** 

Ввожу команду, которая скомпилирует файл hello.asm в файл obj.o, при этом в файл будут включены символы для отладки (ключ -g), также с помощью ключа -l будет создан файл листинга list.lst (рис. 4.6). Далее проверяю с помощью утилиты ls правильность выполнения команды. 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.006.png)

Рис. 4.6 Компиляция текста программы 

4. **Работа с компоновщиком LD** 

Передаю  объектный  файл  hello.o  на  обработку  компоновщику  LD,  чтобы получить  исполняемый  файл  hello  (рис.  4.7).  Ключ  -о  задает  имя  создаваемого исполняемого  файла.  Далее  проверяю  с  помощью  утилиты  ls  правильность выполнения команды. 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.007.png)

Рис. 4.7 Передача объектного файла на обработку компоновщику 

Выполняю следующую команду (рис. 4.8). Исполняемый файл будет иметь имя main, т.к. после ключа -о было задано значение main. Объектный файл, из которого собран этот исполняемый файл, имеет имя obj.o 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.008.png)

Рис. 4.8 Передача объектного файла на обработку компоновщику 

5. **Запуск исполняемого файла** 

Запускаю на выполнение созданный исполняемый файл hello (рис. 4.9). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.009.png)

Рис. 4.9 Запуск исполняемого файла 

6. **Выполнение заданий для самостоятельной работы** 

С помощью утилиты cp создаю в текущем каталоге копию файла hello.asm с именем lab4.asm (рис. 4.10). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.010.png)

Рис. 4.10 Создание копии файла 

С помощью текстового редактора mousepad открываю файл lab4.asm и вношу изменения в программу так, чтобы она выводила мои имя и фамилию. (рис. 4.11). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.011.jpeg)

Рис. 4.11 Изменение программы 

Компилирую  текст  программы  в  объектный  файл  (рис.  12).  Проверяю  с помощью утилиты ls, что файл lab4.o создан. 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.012.png)

Рис. 4.12 Компиляция текста программы 

Передаю  объектный  файл  lab4.o  на  обработку  компоновщику  LD,  чтобы получить исполняемый файл lab4 (рис. 4.13). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.013.png)

Рис. 4.13 Передача объектного файла на обработку компоновщику 

Запускаю исполняемый файл lab4, на экран действительно выводятся мои имя и фамилия (рис. 4.14). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.014.png)

`                                 `Рис. 4.14 Запуск исполняемого файла 

Удаляю лишние файлы в текущем каталоге с помощью утилиты rm (рис. 4.15). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.015.png)

Рис. 4.15 Удаление лишних файлов в текущем каталоге 

С  помощью  команд  git  add  .  и  git  commit  добавляю  файлы  на  GitHub, комментируя действие как добавление файлов для лабораторной работы №4 (рис. 4.16). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.016.png)

`                             `Рис. 4.16 Добавление файлов на GitHub 

Отправляю файлы на сервер с помощью команды git push (рис. 4.17). 

![](Aspose.Words.7a9a679c-22b7-4234-8908-04bb084b08fa.017.png)

Рис. 4.17 Отправка файлов 

**5 Выводы** 

При выполнении данной лабораторной работы я освоила процедуры компиляции и сборки программ, написанных на ассемблере NASM.

**6 Список литературы** 

1\.https://esystem.rudn.ru/pluginfile.php/2089084/mod\_resource/content/0/Лаборато рная%20работа%20№4.%20Создание%20и%20процесс%20обработки%20программ %20на%20языке%20ассемблера%20NASM.pdf 
14 
